/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/
/*!
	Manual Cache Buster Parameter Variant
	Alex Chittock for Anobii.com
*/
(function(n){var r=n.$LAB,i="UseLocalXHR",m="AlwaysPreserveOrder",k="AllowDuplicates",j="CacheBust",w="CacheBustKey",d="BasePath",o=/^[^?#]*\//.exec(location.href)[0],z=/^\w+\:\/\/\/?[^\/]+/.exec(o)[0],e=document.head||document.getElementsByTagName("head"),g=(n.opera&&Object.prototype.toString.call(n.opera)=="[object Opera]")||("MozAppearance" in document.documentElement.style),x=document.createElement("script"),a=typeof x.preload=="boolean",t=a||(x.readyState&&x.readyState=="uninitialized"),u=!t&&x.async===true,v=!t&&!u&&!g;function q(A){return Object.prototype.toString.call(A)=="[object Function]"}function y(A){return Object.prototype.toString.call(A)=="[object Array]"}function f(C,B){var A=/^\w+\:\/\//;if(/^\/\/\/?/.test(C)){C=location.protocol+C}else{if(!A.test(C)&&C.charAt(0)!="/"){C=(B||"")+C}}return A.test(C)?C:((C.charAt(0)=="/"?z:o)+C)}function h(B,C){for(var A in B){if(B.hasOwnProperty(A)){C[A]=B[A]}}return C}function b(B){var C=false;for(var A=0;A<B.scripts.length;A++){if(B.scripts[A].ready&&B.scripts[A].exec_trigger){C=true;B.scripts[A].exec_trigger();B.scripts[A].exec_trigger=null}}return C}function c(C,B,A,D){C.onload=C.onreadystatechange=function(){if((C.readyState&&C.readyState!="complete"&&C.readyState!="loaded")||B[A]){return}C.onload=C.onreadystatechange=null;D()}}function s(A){A.ready=A.finished=true;for(var B=0;B<A.finished_listeners.length;B++){A.finished_listeners[B]()}A.ready_listeners=[];A.finished_listeners=[]}function p(C,D,B,E,A){setTimeout(function(){var F,H=D.real_src,G;if("item" in e){if(!e[0]){setTimeout(arguments.callee,25);return}e=e[0]}F=document.createElement("script");if(D.type){F.type=D.type}if(D.charset){F.charset=D.charset}if(A){if(t){B.elem=F;if(a){F.preload=true;F.onpreload=E}else{F.onreadystatechange=function(){if(F.readyState=="loaded"){E()}}}F.src=H}else{if(A&&H.indexOf(z)==0&&C[i]){G=new XMLHttpRequest();G.onreadystatechange=function(){if(G.readyState==4){G.onreadystatechange=function(){};B.text=G.responseText+"\n//@ sourceURL="+H;E()}};G.open("GET",H);G.send()}else{F.type="text/cache-script";c(F,B,"ready",function(){e.removeChild(F);E()});F.src=H;e.insertBefore(F,e.firstChild)}}}else{if(u){F.async=false;c(F,B,"finished",E);F.src=H;e.insertBefore(F,e.firstChild)}else{c(F,B,"finished",E);F.src=H;e.insertBefore(F,e.firstChild)}}},0)}function l(){var C={},H=t||v,A=[],B={},E;C[i]=true;C[m]=false;C[k]=false;C[j]=false;C[w]=false;C[d]="";function G(K,M,J){var I;function L(){if(I!=null){I=null;s(J)}}if(B[M.src].finished){return}if(!K[k]){B[M.src].finished=true}I=J.elem||document.createElement("script");if(M.type){I.type=M.type}if(M.charset){I.charset=M.charset}c(I,J,"finished",L);if(J.elem){J.elem=null}else{if(J.text){I.onload=I.onreadystatechange=null;I.text=J.text}else{I.src=M.real_src}}e.insertBefore(I,e.firstChild);if(J.text){L()}}function D(K,O,N,I){var J,M,L=function(){O.ready_cb(O,function(){G(K,O,J)})},P=function(){O.finished_cb(O,N)};O.src=f(O.src,K[d]);O.real_src=O.src+(K[j]?((/\?.*$/.test(O.src)?"&_":"?_")+(K[w]?K[w]:~~(Math.random()*1000000000))+"="):"");if(!B[O.src]){B[O.src]={items:[],finished:false}}M=B[O.src].items;if(K[k]||M.length==0){J=M[M.length]={ready:false,finished:false,ready_listeners:[L],finished_listeners:[P]};p(K,O,J,((I)?function(){J.ready=true;for(var Q=0;Q<J.ready_listeners.length;Q++){J.ready_listeners[Q]()}J.ready_listeners=[]}:function(){s(J)}),I)}else{J=M[0];if(J.finished){P()}else{J.finished_listeners.push(P)}}}function F(){var L,P=h(C,{}),I=[],K=0,M=false,O;function R(T,S){T.ready=true;T.exec_trigger=S;J()}function Q(U,T){U.ready=U.finished=true;U.exec_trigger=null;for(var S=0;S<T.scripts.length;S++){if(!T.scripts[S].finished){return}}T.finished=true;J()}function J(){while(K<I.length){if(q(I[K])){try{I[K++]()}catch(S){}continue}else{if(!I[K].finished){if(b(I[K])){continue}break}}K++}if(K==I.length){M=false;O=false}}function N(){if(!O||!O.scripts){I.push(O={scripts:[],finished:true})}}L={script:function(){for(var S=0;S<arguments.length;S++){(function(W,U){var V;if(!y(W)){U=[W]}for(var T=0;T<U.length;T++){N();W=U[T];if(q(W)){W=W()}if(!W){continue}if(y(W)){V=[].slice.call(W);V.unshift(T,1);[].splice.apply(U,V);T--;continue}if(typeof W=="string"){W={src:W}}W=h(W,{ready:false,ready_cb:R,finished:false,finished_cb:Q});O.finished=false;O.scripts.push(W);D(P,W,O,(H&&M));M=true;if(P[m]){L.wait()}}})(arguments[S],arguments[S])}return L},wait:function(){if(arguments.length>0){for(var S=0;S<arguments.length;S++){I.push(arguments[S])}O=I[I.length-1]}else{O=false}J();return L}};return{script:L.script,wait:L.wait,setOptions:function(S){h(S,P);return L}}}E={setGlobalDefaults:function(I){h(I,C);return E},setOptions:function(){return F().setOptions.apply(null,arguments)},script:function(){return F().script.apply(null,arguments)},wait:function(){return F().wait.apply(null,arguments)},queueScript:function(){A[A.length]={type:"script",args:[].slice.call(arguments)};return E},queueWait:function(){A[A.length]={type:"wait",args:[].slice.call(arguments)};return E},runQueue:function(){var K=E,I=A.length,J=I,L;for(;--J>=0;){L=A.shift();K=K[L.type].apply(null,L.args)}return K},noConflict:function(){n.$LAB=r;return E},sandbox:function(){return l()}};return E}n.$LAB=l();(function(C,A,B){if(document.readyState==null&&document[C]){document.readyState="loading";document[C](A,B=function(){document.removeEventListener(A,B,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);